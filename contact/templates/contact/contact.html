{% load static %}
<section id="contact" class="p-6 md:p-16 flex flex-col lg:flex-row gap-y-10 lg:gap-x-10  text-[color:var(--color-brand-light)]">

  <!-- Left Column (Form) -->
  <div class="flex flex-col gap-y-6 w-full lg:w-1/2">
  <div class="mb-8 lg:mb-12">
    <h6 class="text-[color:var(--color-font-main)] text-sm pl-6 uppercase relative before:content-[''] before:h-1 before:w-4 before:bg-[color:var(--color-brand-accent)] before:absolute before:top-1/2 before:-translate-y-1/2 before:left-0 lg:text-lg">
      Let’s Talk
    </h6>
    <h2 class="text-2xl lg:text-3xl font-semibold text-[color:var(--color-font-main)]">
      Ready to Make Your Website AI-Search Ready?
    </h2>
  </div>

    {% if messages %}
      <div class="messages mb-4">
        {% for message in messages %}
          <div class="p-4 rounded {% if message.tags == 'success' %}bg-[color:var(--color-brand-light)]/10 text-[color:var(--color-brand-light)] border border-[color:var(--color-brand-secondary)]{% else %}bg-red-100 text-red-800 border border-red-400{% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}

    <form method="POST" action="{% url 'contact:contact' %}" class="flex flex-col gap-y-4">
      {% csrf_token %}

      <!-- Name -->
      <input
        type="text"
        name="name"
        placeholder="Name"
        required
        class="rounded-md border border-[color:var(--color-brand-accent)] bg-[color:var(--color-brand-light)] text-[color:var(--color-font-main)] placeholder:text-[color:var(--color-font-main)]/60 px-4 py-3 h-12 sm:h-14 focus:outline-none focus:ring-2 focus:ring-[color:var(--color-brand-accent)]"
        {% if form.name.value|default:'' %}value="{{ form.name.value }}"{% endif %}
      />

      <!-- Email -->
      <input
        type="email"
        name="email"
        placeholder="Business Email"
        required
        class="rounded-md border border-[color:var(--color-brand-accent)] bg-[color:var(--color-brand-light)] text-[color:var(--color-font-main)] placeholder:text-[color:var(--color-font-main)]/60 px-4 py-3 h-12 sm:h-14 focus:outline-none focus:ring-2 focus:ring-[color:var(--color-brand-accent)]"
        {% if form.email.value|default:'' %}value="{{ form.email.value }}"{% endif %}
      />
      {% if form.email.errors %}
        <p class="text-red-500 font-semibold text-sm">ERROR: {{ form.email.errors.0 }}</p>
      {% endif %}

      <!-- Phone -->
      <input
        type="tel"
        name="phone"
        placeholder="Phone Number (optional)"
        pattern="[0-9]*"
        inputmode="numeric"
        title="Please enter numbers only"
        class="rounded-md border border-[color:var(--color-brand-accent)] bg-[color:var(--color-brand-light)] text-[color:var(--color-font-main)] placeholder:text-[color:var(--color-font-main)]/60 px-4 py-3 h-12 sm:h-14 focus:outline-none focus:ring-2 focus:ring-[color:var(--color-brand-accent)]"
        {% if form.phone.value|default:'' %}value="{{ form.phone.value }}"{% endif %}
      />

      <!-- Dropdown -->
      <select
        name="service_type"
        required
        class="rounded-md border border-[color:var(--color-brand-accent)] bg-[color:var(--color-brand-light)] text-[color:var(--color-font-main)] px-4 py-3 h-12 sm:h-14 focus:outline-none focus:ring-2 focus:ring-[color:var(--color-brand-accent)]"
      >
        <option value="" disabled {% if not form.service_type.value|default:'' %}selected{% endif %}>I’m interested in...</option>
        <option value="ai_search_readiness" {% if form.service_type.value|default:'' == 'ai_search_readiness' %}selected{% endif %}>AI Search Readiness Audit</option>
        <option value="local_ai_search" {% if form.service_type.value|default:'' == 'local_ai_search' %}selected{% endif %}>Local Business AI Search Setup</option>
        <option value="prompt_library" {% if form.service_type.value|default:'' == 'prompt_library' %}selected{% endif %}>Prompt Library Access</option>
        <option value="guides_toolkits" {% if form.service_type.value|default:'' == 'guides_toolkits' %}selected{% endif %}>Guides & Toolkits</option>
        <option value="other" {% if form.service_type.value|default:'' == 'other' %}selected{% endif %}>Something Else</option>
      </select>

      <!-- Message -->
      <textarea
        name="message"
        placeholder="Tell us what you’re working on or what you’d like help with."
        required
        class="rounded-md border border-[color:var(--color-brand-accent)] bg-[color:var(--color-brand-light)] text-[color:var(--color-font-main)] placeholder:text-[color:var(--color-font-main)]/60 px-4 py-3 h-40 focus:outline-none focus:ring-2 focus:ring-[color:var(--color-brand-accent)]"
      >{% if form.message.value|default:'' %}{{ form.message.value }}{% endif %}</textarea>

      <!-- Experience -->
      <select
        name="used_before"
        required
        class="rounded-md border border-[color:var(--color-brand-accent)] bg-[color:var(--color-brand-light)] text-[color:var(--color-font-main)] px-4 py-3 h-12 sm:h-14 focus:outline-none focus:ring-2 focus:ring-[color:var(--color-brand-accent)]"
      >
        <option value="" disabled {% if not form.used_before.value|default:'' %}selected{% endif %}>I have...</option>
        <option value="yes" {% if form.used_before.value|default:'' == 'yes' %}selected{% endif %}>worked on SEO or search optimisation before</option>
        <option value="no" {% if form.used_before.value|default:'' == 'no' %}selected{% endif %}>never worked on SEO or AI search before</option>
      </select>

      <!-- Form errors -->
      {% if form and form.errors %}
        <div class="p-4 rounded bg-red-100 text-red-800 border border-red-400 mb-4">
          {% for field, errors in form.errors.items %}
            {% for error in errors %}
              <p>{{ field }}: {{ error }}</p>
            {% endfor %}
          {% endfor %}
        </div>
      {% endif %}

      <!-- Submit -->
      <input
        type="submit"
        value="Submit"
        class="uppercase font-semibold cursor-pointer rounded-md bg-[color:var(--color-brand-primary)] text-white h-12 sm:h-14 hover:bg-[color:var(--color-brand-secondary)] transition"
      />
    </form>
  </div>

  <!-- Right Column (Text) -->
  <div class="flex flex-col gap-y-6 lg:self-center xl:gap-y-10 w-full lg:w-1/2 text-[color:var(--color-font-main)]">
    <div>
      <h6 class="text-sm pl-6 uppercase relative before:content-[''] before:h-1 before:w-4 before:bg-[color:var(--color-brand-accent)] before:absolute before:top-1/2 before:-translate-y-1/2 before:left-0 lg:text-lg">
        Book a Consultation
      </h6>
      <p>Schedule a quick consultation to explore how AI search readiness can help your business stay visible in an AI-driven web.</p>

      <p class="font-bold mb-2 mt-3">Most requests fall into one of these areas:</p>
      <ul class="list-disc list-inside space-y-2">
        <li><strong>AI Search Audit:</strong> A structured review of how ready your website is for AI-generated results.</li>
        <li><strong>Local AI Setup:</strong> Help with optimising your Google Business Profile, local schema, and reviews.</li>
        <li><strong>Prompt Frameworks:</strong> Structured prompts and templates for AI-ready content creation.</li>
      </ul>

      <h6 class="text-sm pl-6 uppercase relative mt-5 before:content-[''] before:h-1 before:w-4 before:bg-[color:var(--color-brand-accent)] before:absolute before:top-1/2 before:-translate-y-1/2 before:left-0 lg:text-lg">
        Availability
      </h6>
      <p>Consultations are available Tuesday through Thursday. Requests outside these days may be scheduled by arrangement.</p>
    </div>
  </div>
</section>
